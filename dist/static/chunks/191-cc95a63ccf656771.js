(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[191],{6466:function(t,e,n){"use strict";n.d(e,{HT:function(){return K},iZ:function(){return J}});var r={},o=Uint8Array,i=Uint16Array,a=Int32Array,s=new o([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u=new o([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new o([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=function(t,e){for(var n=new i(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var o=new a(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)o[s]=s-n[r]<<5|r;return{b:n,r:o}},l=h(s,2),f=l.b,d=l.r;f[28]=258,d[258]=28;for(var v=h(u,0),p=v.b,y=v.r,_=new i(32768),m=0;m<32768;++m){var g=(43690&m)>>1|(21845&m)<<1;g=(61680&(g=(52428&g)>>2|(13107&g)<<2))>>4|(3855&g)<<4,_[m]=((65280&g)>>8|(255&g)<<8)>>1}for(var w=function(t,e,n){for(var r,o=t.length,a=0,s=new i(e);a<o;++a)t[a]&&++s[t[a]-1];var u=new i(e);for(a=1;a<e;++a)u[a]=u[a-1]+s[a-1]<<1;if(n){r=new i(1<<e);var c=15-e;for(a=0;a<o;++a)if(t[a])for(var h=a<<4|t[a],l=e-t[a],f=u[t[a]-1]++<<l,d=f|(1<<l)-1;f<=d;++f)r[_[f]>>c]=h}else for(a=0,r=new i(o);a<o;++a)t[a]&&(r[a]=_[u[t[a]-1]++]>>15-t[a]);return r},x=new o(288),m=0;m<144;++m)x[m]=8;for(var m=144;m<256;++m)x[m]=9;for(var m=256;m<280;++m)x[m]=7;for(var m=280;m<288;++m)x[m]=8;for(var b=new o(32),m=0;m<32;++m)b[m]=5;var P=w(x,9,0),M=w(x,9,1),E=w(b,5,0),k=w(b,5,1),T=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},D=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(7&e)&n},C=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(7&e)},O=function(t){return(t+7)/8|0},S=function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new o(t.subarray(e,n))},R=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],W=function(t,e,n){var r=Error(e||R[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,W),!n)throw r;return r},z=function(t,e,n,r){var i=t.length,a=r?r.length:0;if(!i||e.f&&!e.l)return n||new o(0);var h=!n,l=h||2!=e.i,d=e.i;h&&(n=new o(3*i));var v=function(t){var e=n.length;if(t>e){var r=new o(Math.max(2*e,t));r.set(n),n=r}},y=e.f||0,_=e.p||0,m=e.b||0,g=e.l,x=e.d,b=e.m,P=e.n,E=8*i;do{if(!g){y=D(t,_,1);var R=D(t,_+1,3);if(_+=3,R){if(1==R)g=M,x=k,b=9,P=5;else if(2==R){var z=D(t,_,31)+257,L=D(t,_+10,15)+4,U=z+D(t,_+5,31)+1;_+=14;for(var A=new o(U),F=new o(19),B=0;B<L;++B)F[c[B]]=D(t,_+3*B,7);_+=3*L;for(var N=T(F),j=(1<<N)-1,I=w(F,N,1),B=0;B<U;){var q=I[D(t,_,j)];_+=15&q;var H=q>>4;if(H<16)A[B++]=H;else{var V=0,G=0;for(16==H?(G=3+D(t,_,3),_+=2,V=A[B-1]):17==H?(G=3+D(t,_,7),_+=3):18==H&&(G=11+D(t,_,127),_+=7);G--;)A[B++]=V}}var Y=A.subarray(0,z),Z=A.subarray(z);b=T(Y),P=T(Z),g=w(Y,b,1),x=w(Z,P,1)}else W(1)}else{var H=O(_)+4,X=t[H-4]|t[H-3]<<8,J=H+X;if(J>i){d&&W(0);break}l&&v(m+X),n.set(t.subarray(H,J),m),e.b=m+=X,e.p=_=8*J,e.f=y;continue}if(_>E){d&&W(0);break}}l&&v(m+131072);for(var K=(1<<b)-1,Q=(1<<P)-1,$=_;;$=_){var V=g[C(t,_)&K],tt=V>>4;if((_+=15&V)>E){d&&W(0);break}if(V||W(2),tt<256)n[m++]=tt;else if(256==tt){$=_,g=null;break}else{var te=tt-254;if(tt>264){var B=tt-257,tn=s[B];te=D(t,_,(1<<tn)-1)+f[B],_+=tn}var tr=x[C(t,_)&Q],to=tr>>4;tr||W(3),_+=15&tr;var Z=p[to];if(to>3){var tn=u[to];Z+=C(t,_)&(1<<tn)-1,_+=tn}if(_>E){d&&W(0);break}l&&v(m+131072);var ti=m+te;if(m<Z){var ta=a-Z,ts=Math.min(Z,ti);for(ta+m<0&&W(3);m<ts;++m)n[m]=r[ta+m]}for(;m<ti;++m)n[m]=n[m-Z]}}e.l=g,e.p=$,e.b=m,e.f=y,g&&(y=1,e.m=b,e.d=x,e.n=P)}while(!y);return m!=n.length&&h?S(n,0,m):n.subarray(0,m)},L=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},U=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},A=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var a=n.length,s=n.slice();if(!a)return{t:H,l:0};if(1==a){var u=new o(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(t,e){return t.f-e.f}),n.push({s:-1,f:25001});var c=n[0],h=n[1],l=0,f=1,d=2;for(n[0]={s:-1,f:c.f+h.f,l:c,r:h};f!=a-1;)c=n[n[l].f<n[d].f?l++:d++],h=n[l!=f&&n[l].f<n[d].f?l++:d++],n[f++]={s:-1,f:c.f+h.f,l:c,r:h};for(var v=s[0].s,r=1;r<a;++r)s[r].s>v&&(v=s[r].s);var p=new i(v+1),y=F(n[f-1],p,0);if(y>e){var r=0,_=0,m=y-e,g=1<<m;for(s.sort(function(t,e){return p[e.s]-p[t.s]||t.f-e.f});r<a;++r){var w=s[r].s;if(p[w]>e)_+=g-(1<<y-p[w]),p[w]=e;else break}for(_>>=m;_>0;){var x=s[r].s;p[x]<e?_-=1<<e-p[x]++-1:++r}for(;r>=0&&_;--r){var b=s[r].s;p[b]==e&&(--p[b],++_)}y=e}return{t:new o(p),l:y}},F=function(t,e,n){return -1==t.s?Math.max(F(t.l,e,n+1),F(t.r,e,n+1)):e[t.s]=n},B=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new i(++e),r=0,o=t[0],a=1,s=function(t){n[r++]=t},u=1;u<=e;++u)if(t[u]==o&&u!=e)++a;else{if(!o&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(o),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(o);a=1,o=t[u]}return{c:n.subarray(0,r),n:e}},N=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},j=function(t,e,n){var r=n.length,o=O(e+2);t[o]=255&r,t[o+1]=r>>8,t[o+2]=255^t[o],t[o+3]=255^t[o+1];for(var i=0;i<r;++i)t[o+i+4]=n[i];return(o+4+r)*8},I=function(t,e,n,r,o,a,h,l,f,d,v){L(e,v++,n),++o[256];for(var p,y,_,m,g=A(o,15),M=g.t,k=g.l,T=A(a,15),D=T.t,C=T.l,O=B(M),S=O.c,R=O.n,W=B(D),z=W.c,F=W.n,I=new i(19),q=0;q<S.length;++q)++I[31&S[q]];for(var q=0;q<z.length;++q)++I[31&z[q]];for(var H=A(I,7),V=H.t,G=H.l,Y=19;Y>4&&!V[c[Y-1]];--Y);var Z=d+5<<3,X=N(o,x)+N(a,b)+h,J=N(o,M)+N(a,D)+h+14+3*Y+N(I,V)+2*I[16]+3*I[17]+7*I[18];if(f>=0&&Z<=X&&Z<=J)return j(e,v,t.subarray(f,f+d));if(L(e,v,1+(J<X)),v+=2,J<X){p=w(M,k,0),y=M,_=w(D,C,0),m=D;var K=w(V,G,0);L(e,v,R-257),L(e,v+5,F-1),L(e,v+10,Y-4),v+=14;for(var q=0;q<Y;++q)L(e,v+3*q,V[c[q]]);v+=3*Y;for(var Q=[S,z],$=0;$<2;++$)for(var tt=Q[$],q=0;q<tt.length;++q){var te=31&tt[q];L(e,v,K[te]),v+=V[te],te>15&&(L(e,v,tt[q]>>5&127),v+=tt[q]>>12)}}else p=P,y=x,_=E,m=b;for(var q=0;q<l;++q){var tn=r[q];if(tn>255){var te=tn>>18&31;U(e,v,p[te+257]),v+=y[te+257],te>7&&(L(e,v,tn>>23&31),v+=s[te]);var tr=31&tn;U(e,v,_[tr]),v+=m[tr],tr>3&&(U(e,v,tn>>5&8191),v+=u[tr])}else U(e,v,p[tn]),v+=y[tn]}return U(e,v,p[256]),v+y[256]},q=new a([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),H=new o(0),V=function(t,e,n,r,c,h){var l=h.z||t.length,f=new o(r+l+5*(1+Math.ceil(l/7e3))+c),v=f.subarray(r,f.length-c),p=h.l,_=7&(h.r||0);if(e){_&&(v[0]=h.r>>3);for(var m=q[e-1],g=m>>13,w=8191&m,x=(1<<n)-1,b=h.p||new i(32768),P=h.h||new i(x+1),M=Math.ceil(n/3),E=2*M,k=function(e){return(t[e]^t[e+1]<<M^t[e+2]<<E)&x},T=new a(25e3),D=new i(288),C=new i(32),R=0,W=0,z=h.i||0,L=0,U=h.w||0,A=0;z+2<l;++z){var F=k(z),B=32767&z,N=P[F];if(b[B]=N,P[F]=B,U<=z){var H=l-z;if((R>7e3||L>24576)&&(H>423||!p)){_=I(t,v,0,T,D,C,W,L,A,z-A,_),L=R=W=0,A=z;for(var V=0;V<286;++V)D[V]=0;for(var V=0;V<30;++V)C[V]=0}var G=2,Y=0,Z=w,X=B-N&32767;if(H>2&&F==k(z-X))for(var J=Math.min(g,H)-1,K=Math.min(32767,z),Q=Math.min(258,H);X<=K&&--Z&&B!=N;){if(t[z+G]==t[z+G-X]){for(var $=0;$<Q&&t[z+$]==t[z+$-X];++$);if($>G){if(G=$,Y=X,$>J)break;for(var tt=Math.min(X,$-2),te=0,V=0;V<tt;++V){var tn=z-X+V&32767,tr=b[tn],to=tn-tr&32767;to>te&&(te=to,N=tn)}}}N=b[B=N],X+=B-N&32767}if(Y){T[L++]=268435456|d[G]<<18|y[Y];var ti=31&d[G],ta=31&y[Y];W+=s[ti]+u[ta],++D[257+ti],++C[ta],U=z+G,++R}else T[L++]=t[z],++D[t[z]]}}for(z=Math.max(z,U);z<l;++z)T[L++]=t[z],++D[t[z]];_=I(t,v,p,T,D,C,W,L,A,z-A,_),p||(h.r=7&_|v[_/8|0]<<3,_-=7,h.h=P,h.p=b,h.i=z,h.w=U)}else{for(var z=h.w||0;z<l+p;z+=65535){var ts=z+65535;ts>=l&&(v[_/8|0]=p,ts=l),_=j(v,_+1,t.subarray(z,ts))}h.i=l}return S(f,0,r+O(_)+c)},G=function(){var t=1,e=0;return{p:function(n){for(var r=t,o=e,i=0|n.length,a=0;a!=i;){for(var s=Math.min(a+2655,i);a<s;++a)o+=r+=n[a];r=(65535&r)+15*(r>>16),o=(65535&o)+15*(o>>16)}t=r,e=o},d:function(){return t%=65521,e%=65521,(255&t)<<24|(65280&t)<<8|(255&e)<<8|e>>8}}},Y=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new o(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return V(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,i)},Z=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},X=function(t,e){var n=e.level;if(t[0]=120,t[1]=(0==n?0:n<6?1:9==n?3:2)<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=G();r.p(e.dictionary),Z(t,2,r.d())}};function J(t,e){e||(e={});var n=G();n.p(t);var r=Y(t,e,e.dictionary?6:2,4);return X(r,e),Z(r,r.length-4,n.d()),r}function K(t,e){var n;return z(t.subarray((n=e&&e.dictionary,((15&t[0])!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&W(6,"invalid zlib data"),(t[1]>>5&1)==+!n&&W(6,"invalid zlib data: "+(32&t[1]?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2),-4),{i:2},e&&e.out,e&&e.dictionary)}var Q="undefined"!=typeof TextDecoder&&new TextDecoder;try{Q.decode(H,{stream:!0})}catch(t){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout},9376:function(t,e,n){"use strict";var r=n(5475);n.o(r,"usePathname")&&n.d(e,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(e,{useRouter:function(){return r.useRouter}})},8049:function(t,e,n){"use strict";var r=n(4397);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},718:function(t,e,n){t.exports=n(8049)()},4397:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7938:function(t,e,n){var r;r=function(t,e,n,r){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:t}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=r(n(1)),u=n(2),c=r(u),h=r(n(3)),l=r(n(4)),f=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r._sigPad=null,r._excludeOurProps=function(){var t=r.props;return t.canvasProps,t.clearOnResize,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["canvasProps","clearOnResize"])},r.getCanvas=function(){return r._canvas},r.getTrimmedCanvas=function(){var t=document.createElement("canvas");return t.width=r._canvas.width,t.height=r._canvas.height,t.getContext("2d").drawImage(r._canvas,0,0),(0,l.default)(t)},r.getSignaturePad=function(){return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var t=r.props.canvasProps||{},e=t.width,n=t.height;if(!e||!n){var o=r._canvas,i=Math.max(window.devicePixelRatio||1,1);e||(o.width=o.offsetWidth*i),n||(o.height=o.offsetHeight*i),o.getContext("2d").scale(i,i),r.clear()}},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r._sigPad.on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r._sigPad.off()},r.clear=function(){return r._sigPad.clear()},r.isEmpty=function(){return r._sigPad.isEmpty()},r.fromDataURL=function(t,e){return r._sigPad.fromDataURL(t,e)},r.toDataURL=function(t,e){return r._sigPad.toDataURL(t,e)},r.fromData=function(t){return r._sigPad.fromData(t)},r.toData=function(){return r._sigPad.toData()},o(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"componentDidMount",value:function(){this._sigPad=new h.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var t=this,e=this.props.canvasProps;return c.default.createElement("canvas",i({ref:function(e){t._canvas=e}},e))}}]),e}(u.Component);f.propTypes={velocityFilterWeight:s.default.number,minWidth:s.default.number,maxWidth:s.default.number,minDistance:s.default.number,dotSize:s.default.oneOfType([s.default.number,s.default.func]),penColor:s.default.string,throttle:s.default.number,onEnd:s.default.func,onBegin:s.default.func,canvasProps:s.default.object,clearOnResize:s.default.bool},f.defaultProps={clearOnResize:!0},e.default=f},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e){t.exports=r}])},t.exports=r(n(718),n(2265),n(9385),n(2233))},2233:function(t){var e;e=function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";function n(t,e,n,r){return({red:r[4*(n*e+t)],green:r[4*(n*e+t)+1],blue:r[4*(n*e+t)+2],alpha:r[4*(n*e+t)+3]}).alpha}function r(t,e,r,o){for(var i=t?1:-1,a=t?0:r-1,s=a;t?s<r:s>-1;s+=i)for(var u=0;u<e;u++)if(n(u,s,e,o))return s;return null}function o(t,e,r,o){for(var i=t?1:-1,a=t?0:e-1,s=a;t?s<e:s>-1;s+=i)for(var u=0;u<r;u++)if(n(s,u,e,o))return s;return null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.getContext("2d"),n=t.width,i=t.height,a=e.getImageData(0,0,n,i).data,s=r(!0,n,i,a),u=r(!1,n,i,a),c=o(!0,n,i,a),h=o(!1,n,i,a)-c+1,l=u-s+1,f=e.getImageData(c,s,h,l);return t.width=h,t.height=l,e.clearRect(0,0,h,l),e.putImageData(f,0,0),t}}])},t.exports=e()},9608:function(){},7425:function(){},1154:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return r}})},9385:function(t,e,n){"use strict";function r(t,e,n){this.x=t,this.y=e,this.time=n||new Date().getTime()}function o(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}function i(t,e){var n,r,o,a,s,u,c,h,l,f=this,d=e||{};(this.velocityFilterWeight=d.velocityFilterWeight||.7,this.minWidth=d.minWidth||.5,this.maxWidth=d.maxWidth||2.5,this.throttle="throttle"in d?d.throttle:16,this.minDistance="minDistance"in d?d.minDistance:5,this.throttle)?this._strokeMoveUpdate=(n=i.prototype._strokeUpdate,r=this.throttle,c=null,h=0,o||(o={}),l=function(){h=!1===o.leading?0:Date.now(),c=null,u=n.apply(a,s),c||(a=s=null)},function(){var t=Date.now();h||!1!==o.leading||(h=t);var e=r-(t-h);return a=this,s=arguments,e<=0||e>r?(c&&(clearTimeout(c),c=null),h=t,u=n.apply(a,s),c||(a=s=null)):c||!1===o.trailing||(c=setTimeout(l,e)),u}):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=d.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=d.penColor||"black",this.backgroundColor=d.backgroundColor||"rgba(0,0,0,0)",this.onBegin=d.onBegin,this.onEnd=d.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(f._mouseButtonDown=!0,f._strokeBegin(t))},this._handleMouseMove=function(t){f._mouseButtonDown&&f._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&f._mouseButtonDown&&(f._mouseButtonDown=!1,f._strokeEnd(t))},this._handleTouchStart=function(t){if(1===t.targetTouches.length){var e=t.changedTouches[0];f._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];f._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){t.target===f._canvas&&(t.preventDefault(),f._strokeEnd(t))},this.on()}n.r(e),r.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},r.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},r.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},o.prototype.length=function(){for(var t=0,e=void 0,n=void 0,r=0;r<=10;r+=1){var o=r/10,i=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var s=i-e,u=a-n;t+=Math.sqrt(s*s+u*u)}e=i,n=a}return t},o.prototype._point=function(t,e,n,r,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+o*t*t*t},i.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Image,o=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/o,a=n.height||this._canvas.height/o;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,i,a)},this._isEmpty=!1},i.prototype.toDataURL=function(t){var e;if("image/svg+xml"===t)return this._toSVG();for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))},i.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},i.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},i.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),o=this._data[this._data.length-1],i=o&&o[o.length-1],a=i&&r.distanceTo(i)<this.minDistance;if(!(i&&a)){var s=this._addPoint(r),u=s.curve,c=s.widths;u&&c&&this._drawCurve(u,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}},i.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],o=r[r.length-1];n.equals(o)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(t)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(t,e,n){var o=this._canvas.getBoundingClientRect();return new r(t-o.left,e-o.top,n||new Date().getTime())},i.prototype._addPoint=function(t){var e=this.points;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);var n=this._calculateCurveControlPoints(e[0],e[1],e[2]).c2,r=this._calculateCurveControlPoints(e[1],e[2],e[3]).c1,i=new o(e[1],n,r,e[2]),a=this._calculateCurveWidths(i);return e.shift(),{curve:i,widths:a}}return{}},i.prototype._calculateCurveControlPoints=function(t,e,n){var o=t.x-e.x,i=t.y-e.y,a=e.x-n.x,s=e.y-n.y,u={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+n.x)/2,y:(e.y+n.y)/2},h=Math.sqrt(a*a+s*s),l=u.x-c.x,f=u.y-c.y,d=h/(Math.sqrt(o*o+i*i)+h),v={x:c.x+l*d,y:c.y+f*d},p=e.x-v.x,y=e.y-v.y;return{c1:new r(u.x+p,u.y+y),c2:new r(c.x+p,c.y+y)}},i.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(o);return r.start=this._lastWidth,r.end=i,this._lastVelocity=o,this._lastWidth=i,r},i.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},i.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(t,e,n){var r=this._ctx,o=n-e,i=Math.floor(t.length());r.beginPath();for(var a=0;a<i;a+=1){var s=a/i,u=s*s,c=u*s,h=1-s,l=h*h,f=l*h,d=f*t.startPoint.x;d+=3*l*s*t.control1.x+3*h*u*t.control2.x+c*t.endPoint.x;var v=f*t.startPoint.y;v+=3*l*s*t.control1.y+3*h*u*t.control2.y+c*t.endPoint.y;var p=e+c*o;this._drawPoint(d,v,p)}r.closePath(),r.fill()},i.prototype._drawDot=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},i.prototype._fromData=function(t,e,n){for(var o=0;o<t.length;o+=1){var i=t[o];if(i.length>1)for(var a=0;a<i.length;a+=1){var s=i[a],u=new r(s.x,s.y,s.time),c=s.color;if(0===a)this.penColor=c,this._reset(),this._addPoint(u);else if(a!==i.length-1){var h=this._addPoint(u),l=h.curve,f=h.widths;l&&f&&e(l,f,c)}}else this._reset(),n(i[0])}},i.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),o=n.width/r,i=n.height/r,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"width",n.width),a.setAttributeNS(null,"height",n.height),this._fromData(e,function(t,e,n){var r=document.createElement("path");if(!isNaN(t.control1.x)&&!isNaN(t.control1.y)&&!isNaN(t.control2.x)&&!isNaN(t.control2.y)){var o="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" "+("C "+t.control1.x.toFixed(3))+","+t.control1.y.toFixed(3)+" "+t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" "+t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3);r.setAttribute("d",o),r.setAttribute("stroke-width",(2.25*e.end).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),a.appendChild(r)}},function(e){var n=document.createElement("circle"),r="function"==typeof t.dotSize?t.dotSize():t.dotSize;n.setAttribute("r",r),n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("fill",e.color),a.appendChild(n)});var s=a.innerHTML;if(void 0===s){var u=document.createElement("dummy"),c=a.childNodes;u.innerHTML="";for(var h=0;h<c.length;h+=1)u.appendChild(c[h].cloneNode(!0));s=u.innerHTML}return"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+i+'" width="'+o+'" height="'+i+'">'+s+"</svg>")},i.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(t,n){return e._drawCurve(t,n.start,n.end)},function(t){return e._drawDot(t)}),this._data=t},i.prototype.toData=function(){return this._data},e.default=i}}]);