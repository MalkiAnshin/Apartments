(()=>{var e={};e.id=130,e.ids=[130],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},86217:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(82610),r(11506),r(35866);var s=r(23191),a=r(88716),n=r(37922),l=r.n(n),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["adminInterface",{children:["ShowApartments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,82610)),"C:\\Users\\Malki\\OneDrive\\שולחן העבודה\\פרויקט מאגר דירות\\Apartments\\app\\adminInterface\\ShowApartments\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,11506)),"C:\\Users\\Malki\\OneDrive\\שולחן העבודה\\פרויקט מאגר דירות\\Apartments\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\Malki\\OneDrive\\שולחן העבודה\\פרויקט מאגר דירות\\Apartments\\app\\adminInterface\\ShowApartments\\page.tsx"],p="/adminInterface/ShowApartments/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/adminInterface/ShowApartments/page",pathname:"/adminInterface/ShowApartments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},54714:(e,t,r)=>{Promise.resolve().then(r.bind(r,73487))},73487:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(10326),a=r(17577),n=r(86029),l=r(1571);let i=()=>{let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[d,p]=(0,a.useState)({min:0,max:1e6}),[m,x]=(0,a.useState)(0),h=async()=>{try{let e=o?.trim()||"",r=encodeURIComponent(e),s=await fetch(`/api/AdminInterface/ShowApartments?city=${r}`);if(!s.ok)throw Error("Response from server was not OK");let a=await s.json();t(a)}catch(e){i("Error fetching apartments: "+(e instanceof Error?e.message:"Unknown error")),console.error("Error fetching apartments:",e)}};(0,a.useEffect)(()=>{h()},[o]);let u=e.filter(e=>{let t=e.price>=d.min&&e.price<=d.max,r=!m||e.rooms===m,s=!o||e.city===o;return t&&r&&s});return s.jsx("div",{className:"bg-transparent text-white min-h-screen flex flex-col items-center p-6",children:(0,s.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 text-gold text-center",children:"רשימת דירות"}),r&&(0,s.jsxs)("div",{className:"text-red-600 mb-4 text-center",children:["שגיאה: ",r]}),s.jsx(n.Z,{onPriceChange:p,onRoomsChange:x}),s.jsx(l.Z,{onCitySelect:c}),u.length>0?(0,s.jsxs)("table",{className:"min-w-full bg-transparent border border-gold mb-6",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gold",children:[s.jsx("th",{className:"text-left p-4",children:"מזהה נכס"}),s.jsx("th",{className:"text-left p-4",children:"עיר"}),s.jsx("th",{className:"text-left p-4",children:"מחיר"}),s.jsx("th",{className:"text-left p-4",children:"חדרים"}),s.jsx("th",{className:"text-left p-4",children:"פרטי יצירת קשר"}),s.jsx("th",{className:"text-left p-4",children:"סוג מוכר"}),s.jsx("th",{className:"text-left p-4",children:"פעולה"})]})}),s.jsx("tbody",{children:u.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gold",children:[s.jsx("td",{className:"p-4",children:e.property_id}),s.jsx("td",{className:"p-4",children:e.city}),s.jsx("td",{className:"p-4",children:e.price}),s.jsx("td",{className:"p-4",children:e.rooms}),s.jsx("td",{className:"p-4",children:e.contact_seller}),s.jsx("td",{className:"p-4",children:e.seller_type}),s.jsx("td",{className:"p-4",children:s.jsx("button",{className:"bg-gold text-black px-4 py-2 rounded hover:bg-yellow-600",children:"הצג חוזים"})})]},e.property_id))})]}):s.jsx("p",{className:"text-gray-400 text-center",children:"...טוען"})]})})}},82610:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\Users\Malki\OneDrive\שולחן העבודה\פרויקט מאגר דירות\Apartments\app\adminInterface\ShowApartments\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,562,621,783],()=>r(86217));module.exports=s})();