"use strict";(()=>{var e={};e.id=996,e.ids=[996],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},35900:e=>{e.exports=require("pg")},26226:(e,r,s)=>{s.r(r),s.d(r,{originalPathname:()=>E,patchFetch:()=>h,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var t={};s.r(t),s.d(t,{DELETE:()=>u,GET:()=>p});var n=s(49303),o=s(88716),a=s(60670),i=s(87070),c=s(68735);async function p(e){try{let e=await c.Z.connect(),{rows:r}=await e.query("SELECT * FROM contactMessages");return e.release(),i.NextResponse.json(r)}catch(e){return console.error("Error fetching messages:",e),i.NextResponse.json({error:"Error fetching messages",message:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function u(e){try{let{messageId:r}=await e.json(),s=await c.Z.connect(),t=await s.query("DELETE FROM contactMessages WHERE message_id = $1 RETURNING *",[r]);if(s.release(),0===t.rowCount)return i.NextResponse.json({error:"Message not found or already deleted"},{status:404});return i.NextResponse.json({success:!0})}catch(e){return console.error("Error deleting message:",e),i.NextResponse.json({error:"Error deleting message",message:e instanceof Error?e.message:"Unknown error"},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/AdminInterface/ShowMessages/route",pathname:"/api/AdminInterface/ShowMessages",filename:"route",bundlePath:"app/api/AdminInterface/ShowMessages/route"},resolvedPagePath:"C:\\Users\\Malki\\OneDrive\\שולחן העבודה\\פרויקט מאגר דירות\\Apartments\\app\\api\\AdminInterface\\ShowMessages\\route.tsx",nextConfigOutput:"",userland:t}),{requestAsyncStorage:g,staticGenerationAsyncStorage:l,serverHooks:m}=d,E="/api/AdminInterface/ShowMessages/route";function h(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},68735:(e,r,s)=>{s.d(r,{Z:()=>n});let{Pool:t}=s(35900),n=new t({user:process.env.DB_USER,host:process.env.DB_HOST,database:process.env.DB_NAME,password:process.env.DB_PASSWORD,port:process.env.DB_PORT,ssl:!1})}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[948,972],()=>s(26226));module.exports=t})();