"use strict";(()=>{var e={};e.id=7465,e.ids=[7465],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},35900:e=>{e.exports=require("pg")},55315:e=>{e.exports=require("path")},15463:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>j,patchFetch:()=>f,requestAsyncStorage:()=>h,routeModule:()=>g,serverHooks:()=>v,staticGenerationAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>l,dynamic:()=>d});var o=t(49303),a=t(88716),n=t(60670),i=t(87070),p=t(68735),u=t(55315),c=t.n(u);let d="force-dynamic";async function l(e){try{let r=e.headers.get("property_id");if(console.log("Received GET request for project images. property_id:",r),!r)return console.warn("No property_id provided in headers"),i.NextResponse.json({error:"ID parameter is missing in headers"},{status:400});let t=await p.Z.query("SELECT image_paths FROM projects WHERE property_id = $1",[r]);if(0===t.rows.length)return console.warn("No images found for the given ID:",r),i.NextResponse.json({error:"No images found for the given ID"},{status:404});let s=t.rows[0].image_paths;if(!s||0===s.length)return console.warn("No image paths available for the given ID:",r),i.NextResponse.json({error:"No image paths available for the given ID"},{status:404});let o=s.map(e=>{let t=c().join(`/pictures/Project/${r}`,e);return console.log("Resolved image path:",t),t});return i.NextResponse.json({images:o})}catch(e){return console.error("Error fetching projects images:",e),i.NextResponse.json({error:"Internal Server Error"},{status:500})}}let g=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/projectsPictures/route",pathname:"/api/projectsPictures",filename:"route",bundlePath:"app/api/projectsPictures/route"},resolvedPagePath:"C:\\Users\\Malki\\OneDrive\\שולחן העבודה\\פרויקט מאגר דירות\\Apartments\\app\\api\\projectsPictures\\route.tsx",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:m,serverHooks:v}=g,j="/api/projectsPictures/route";function f(){return(0,n.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:m})}},68735:(e,r,t)=>{t.d(r,{Z:()=>o});let{Pool:s}=t(35900),o=new s({user:process.env.DB_USER,host:process.env.DB_HOST,database:process.env.DB_NAME,password:process.env.DB_PASSWORD,port:process.env.DB_PORT,ssl:!1})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9276,5972],()=>t(15463));module.exports=s})();